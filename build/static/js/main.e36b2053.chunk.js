(this.webpackJsonpkanban=this.webpackJsonpkanban||[]).push([[0],{21:function(e,t,a){e.exports=a(33)},32:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),l=a(9),r=a.n(l),i=a(8),o=a(6),d=a(2),s=a(5),m=a(7),u=a(34),b=a(15),O=a.n(b),j=a(11);var f=function(e){var t=function(e,t){t.action()},a=function(){var t={card:{id:e.task.id,content:e.task.content,description:e.task.description},column:{id:e.column.id}};e.toggleModal(t)};return n.a.createElement(n.a.Fragment,null,n.a.createElement(j.b,{id:e.task.id},n.a.createElement(m.b,{draggableId:e.task.id,index:e.index},(function(t,c){return n.a.createElement("div",Object.assign({className:"t-box ".concat(c.isDragging?"blue":null)},t.draggableProps,t.dragHandleProps,{ref:t.innerRef,onDoubleClick:a}),e.task.content)}))),n.a.createElement(j.a,{id:e.task.id,className:"context-menu"},n.a.createElement(j.c,{className:"context-item",data:{action:a,id:e.task.id},onClick:t},"Edit"),n.a.createElement(j.c,{className:"context-item",data:{action:function(){var t={card:{id:e.task.id,content:e.task.content,description:e.task.description},column:{id:e.column.id}};e.handleDeleteCard(t)},id:e.task.id},onClick:t},"Delete")))};var v=function(e){var t=Object(c.useState)(""),a=Object(s.a)(t,2),l=a[0],r=a[1],i=Object(c.useState)(e.column.title),o=Object(s.a)(i,2),d=o[0],b=o[1],O=Object(c.useState)(!0),j=Object(s.a)(O,2),v=j[0],p=j[1],E=n.a.createRef(),k=function(){p(!0),e.toggleModal({column:{id:e.column.id}})},h=function(){p(!0);var t={column:{id:e.column.id}};e.handleDeleteList(t)},g=function(){p(!1)},N=function(e){r(e.target.value)},C=function(t){if(t.preventDefault(),""!==l){var a={card:{id:Object(u.a)(),content:l},column:{id:e.column.id}};e.handleNewCard(a),r("")}};Object(c.useEffect)((function(){v||E.current.focus()}),[v]);var I=n.a.createElement("form",{onSubmit:function(t){t.preventDefault();var a={column:{id:e.column.id,title:d}};e.handleEditList(a),p((function(e){return!e}))}},n.a.createElement("input",{ref:E,className:"col-title-input",type:"text",value:d,onChange:function(e){b(e.target.value)}}));return n.a.createElement(m.b,{draggableId:e.column.id,index:e.index},(function(t){return n.a.createElement("div",Object.assign({className:"column"},t.draggableProps,{ref:t.innerRef}),n.a.createElement("header",Object.assign({},t.dragHandleProps,{className:"my-col-head"}),v?n.a.createElement("h1",{className:"col-title",onClick:g},e.column.title):I,n.a.createElement("span",{className:"spacer"}),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"dropbtn"},"..."),n.a.createElement("div",{className:"dropdown-content"},n.a.createElement("div",{className:"drop-select",onClick:k},"New Card"),n.a.createElement("div",{className:"drop-select",onClick:g},"Edit List"),n.a.createElement("div",{className:"drop-select",onClick:h},"Delete List")))),n.a.createElement(m.c,{droppableId:e.column.id,type:"task"},(function(t,a){return n.a.createElement("div",Object.assign({className:"t-container ".concat(a.isDraggingOver?"gray":null),ref:t.innerRef},t.droppableProps),e.tasks.map((function(t,a){return n.a.createElement(f,{key:t.id,task:t,index:a,column:e.column,handleEditCard:e.handleEditCard,handleDeleteCard:e.handleDeleteCard,toggleModal:e.toggleModal})})),t.placeholder)})),n.a.createElement("form",{className:"new-card-form",onSubmit:C},n.a.createElement("textarea",{value:l,onChange:N,placeholder:"New card..."}),n.a.createElement("button",{type:"sumbit"},"Submit")))}))};function p(e){var t=e.data,a=e.close,l=e.addCard,r=e.editCard,i=Object(c.useState)(t.card?t.card.content:""),o=Object(s.a)(i,2),d=o[0],m=o[1],b=Object(c.useState)(t.card?t.card.description:""),O=Object(s.a)(b,2),j=O[0],f=O[1];return n.a.createElement("div",{className:"card-modal-outer"},n.a.createElement("div",{className:"card-modal-inner"},n.a.createElement("form",{className:"card-modal-form",onSubmit:function(e){if(e.preventDefault(),""!==d){if(t.card){var c={card:{id:t.card.id,content:d,description:j}};r(c)}else{var n={card:{id:Object(u.a)(),content:d,description:j},column:{id:t.column.id}};l(n)}a()}else a()}},n.a.createElement("label",{htmlFor:"content"},"Enter main content"),n.a.createElement("textarea",{name:"content",placeholder:"Content...",value:d,onChange:function(e){m(e.target.value)}}),n.a.createElement("label",{htmlFor:"description"},"Enter desctiption"),n.a.createElement("textarea",{name:"description",placeholder:"Description...",value:j,onChange:function(e){f(e.target.value)}}),n.a.createElement("button",{type:"submit"},"Submit"))))}function E(e){var t=e.data.recycle.map((function(t,a){var c=e.data.columns[t];return n.a.createElement("div",{key:a},n.a.createElement("div",null,c.title),n.a.createElement("div",null,"Cards: ",c.taskIds.length),n.a.createElement("button",{onClick:function(){return function(t){var a={column:t};e.retrieveList(a),e.close()}(c)}},"Retrieve List"),n.a.createElement("button",{onClick:function(){return function(t){var a={column:t};e.removeList(a)}(c)}},"Delete List"))}));return n.a.createElement("div",{className:"card-modal-outer"},n.a.createElement("div",{className:"card-modal-inner"},t,n.a.createElement("button",{onClick:e.close},"Close")))}a(32);var k={tasks:{},columns:{"column-1":{id:"column-1",title:"To Do",taskIds:[]},"column-2":{id:"column-2",title:"In Progress",taskIds:[]},"column-3":{id:"column-3",title:"Finished",taskIds:[]}},columnOrder:["column-1","column-2","column-3"],recycle:[]};var h=function(){var e=Object(c.useState)(O.a.get("mainData")||k),t=Object(s.a)(e,2),a=t[0],l=t[1],r=Object(c.useState)(!1),b=Object(s.a)(r,2),j=b[0],f=b[1],h=Object(c.useState)(!1),g=Object(s.a)(h,2),N=g[0],C=g[1],I=Object(c.useState)(),x=Object(s.a)(I,2),y=x[0],D=x[1],S=Object(c.useState)(!1),L=Object(s.a)(S,2),w=L[0],P=L[1];Object(c.useEffect)((function(){O.a.set("mainData",a)}),[a]);var R=function(e){D(e||null),f((function(e){return!e}))},M=function(){C((function(e){return!e}))},A=function(e){var t=Object(d.a)(Object(d.a)({},a),{},{tasks:Object(d.a)(Object(d.a)({},a.tasks),{},Object(o.a)({},e.card.id,{id:e.card.id,content:e.card.content,description:e.card.description})),columns:Object(d.a)(Object(d.a)({},a.columns),{},Object(o.a)({},e.column.id,Object(d.a)(Object(d.a)({},a.columns[e.column.id]),{},{taskIds:[].concat(Object(i.a)(a.columns[e.column.id].taskIds),[e.card.id])})))});l(t)},F=function(e){var t=Object(d.a)(Object(d.a)({},a),{},{tasks:Object(d.a)(Object(d.a)({},a.tasks),{},Object(o.a)({},e.card.id,{id:e.card.id,content:e.card.content,description:e.card.description}))});l(t)},B=function(e){var t=Object(d.a)({},a.columns[e.column.id]);t.taskIds.splice(t.taskIds.indexOf(e.card.id),1);var c=Object(d.a)({},a.tasks);delete c[e.card.id];var n=Object(d.a)(Object(d.a)({},a),{},{tasks:c,columns:Object(d.a)(Object(d.a)({},a.columns),{},Object(o.a)({},e.column.id,t))});l(n)},H=function(e){var t=Object(d.a)(Object(d.a)({},a),{},{columns:Object(d.a)(Object(d.a)({},a.columns),{},Object(o.a)({},e.column.id,Object(d.a)(Object(d.a)({},a.columns[e.column.id]),{},{title:e.column.title})))});l(t)},J=function(e){var t=Object(i.a)(a.columnOrder).filter((function(t){return t!==e.column.id})),c=Object(i.a)(a.recycle);c.push(e.column.id);var n=Object(d.a)(Object(d.a)({},a),{},{columnOrder:t,recycle:c});l(n)},z=a.columnOrder.map((function(e,t){var c=a.columns[e],l=c.taskIds.map((function(e){return a.tasks[e]}));return n.a.createElement(v,{key:c.id,column:c,tasks:l,index:t,handleNewCard:A,handleEditCard:F,handleDeleteCard:B,handleEditList:H,handleDeleteList:J,toggleModal:R})}));return n.a.createElement("div",{id:"dashboard"},j?n.a.createElement(p,{data:y,close:R,addCard:A,editCard:F}):null,N?n.a.createElement(E,{data:a,close:M,retrieveList:function(e){var t=Object(i.a)(a.recycle).filter((function(t){return t!==e.column.id})),c=Object(i.a)(a.columnOrder);c.push(e.column.id);var n=Object(d.a)(Object(d.a)({},a),{},{columnOrder:c,recycle:t});l(n)},removeList:function(e){var t=Object(i.a)(a.recycle).filter((function(t){return t!==e.column.id})),c=Object(d.a)({},a.tasks),n=Object(d.a)({},a.columns);n[e.column.id].taskIds.forEach((function(e){delete c[e]})),delete n[e.column.id];var r=Object(d.a)(Object(d.a)({},a),{},{tasks:c,columns:n,recycle:t});l(r)}}):null,n.a.createElement("header",{className:"dash-header"},n.a.createElement("div",{className:"ham-drop"},n.a.createElement("div",{className:"hamburger ".concat(w?"ham-active":null),onClick:function(){P((function(e){return!e}))}},n.a.createElement("div",{className:"ham-line"}),n.a.createElement("div",{className:"ham-line"}),n.a.createElement("div",{className:"ham-line"})),n.a.createElement("div",{className:"ham-content ".concat(w?null:"ham-content-hide")},n.a.createElement("div",{className:"ham-select",onClick:function(){P(!1),function(){var e=Object(u.a)(),t=Object(d.a)(Object(d.a)({},a),{},{columns:Object(d.a)(Object(d.a)({},a.columns),{},Object(o.a)({},e,{id:e,title:"Click to Edit",taskIds:[]})),columnOrder:[].concat(Object(i.a)(a.columnOrder),[e])});l(t)}()}},"New List"),n.a.createElement("div",{className:"ham-select",onClick:function(){P(!1),M()}},"Recylce Bin"),n.a.createElement("div",{className:"ham-select",onClick:function(){P(!1)}},"Preferences")))),n.a.createElement(m.a,{onDragEnd:function(e){var t,c=e.destination,n=e.source,r=e.draggableId,i=e.type;if(c&&(c.droppableId!==n.droppableId||c.index!==n.index))if("column"!==i){var s=a.columns[n.droppableId],m=a.columns[c.droppableId];if(s!==m){var u=Array.from(s.taskIds);u.splice(n.index,1);var b=Object(d.a)(Object(d.a)({},s),{},{taskIds:u}),O=Array.from(m.taskIds);O.splice(c.index,0,r);var j=Object(d.a)(Object(d.a)({},m),{},{taskIds:O}),f=Object(d.a)(Object(d.a)({},a),{},{columns:Object(d.a)(Object(d.a)({},a.columns),{},(t={},Object(o.a)(t,b.id,b),Object(o.a)(t,j.id,j),t))});l(f)}else{var v=Array.from(s.taskIds);v.splice(n.index,1),v.splice(c.index,0,r);var p=Object(d.a)(Object(d.a)({},s),{},{taskIds:v}),E=Object(d.a)(Object(d.a)({},a),{},{columns:Object(d.a)(Object(d.a)({},a.columns),{},Object(o.a)({},p.id,p))});l(E)}}else{var k=Array.from(a.columnOrder);k.splice(n.index,1),k.splice(c.index,0,r);var h=Object(d.a)(Object(d.a)({},a),{},{columnOrder:k});l(h)}}},n.a.createElement(m.c,{droppableId:"all-columns",direction:"horizontal",type:"column"},(function(e){return n.a.createElement("div",Object.assign({className:"col-container"},e.droppableProps,{ref:e.innerRef}),z,n.a.createElement("div",{style:{width:"300px",minWidth:"300px"}}),e.placeholder)}))))};r.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(h,null)),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.e36b2053.chunk.js.map